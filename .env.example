# =============================================================================
# TabGraphSyn Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control!
# To generate a secure SECRET_KEY, run: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# =============================================================================

# Django Core Settings
# -----------------------------------------------------------------------------
DJANGO_SETTINGS_MODULE=tabgraphsyn_site.settings

# SECRET_KEY: Used for cryptographic signing. MUST be unique and secret in production!
# Generate a new one using: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-secret-key-here-CHANGE-THIS-IN-PRODUCTION

# DEBUG: Set to False in production! Exposes sensitive information when True.
DEBUG=True

# ALLOWED_HOSTS: Comma-separated list of domains allowed to serve the app
# Example: ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,127.0.0.1
ALLOWED_HOSTS=127.0.0.1,localhost

# CSRF Trusted Origins (optional override)
# Example: CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=

# Enforce login and per-user access in production
# WORKSPACE_AUTH_REQUIRED=True forces login for all workspace pages and APIs
# WORKSPACE_ENFORCE_OWNER=True restricts access to run tokens by owner
WORKSPACE_AUTH_REQUIRED=False
WORKSPACE_ENFORCE_OWNER=True

# Proxy/HTTPS settings (set True when behind AWS ALB/ELB or Nginx)
USE_PROXY_HEADERS=True

# Cookie security
SESSION_COOKIE_SAMESITE=Lax
CSRF_COOKIE_SAMESITE=Lax

# Security headers
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin
SECURE_CROSS_ORIGIN_OPENER_POLICY=same-origin
PERMISSIONS_POLICY=accelerometer=(), camera=(), geolocation=(), gyroscope=(), microphone=(), payment=(), usb=()
CROSS_ORIGIN_RESOURCE_POLICY=same-origin
CSP_ENABLED=True
CSP_REPORT_ONLY=False

# MongoDB Configuration
# -----------------------------------------------------------------------------
# Connection string for MongoDB (stores user sessions and run history)
# Local: mongodb://localhost:27017
# With auth: mongodb://username:password@host:port
# Docker: mongodb://mongodb:27017
TABGRAPHSYN_MONGO_URI=mongodb://localhost:27017
TABGRAPHSYN_MONGO_DB=tabgraphsyn
TABGRAPHSYN_MONGO_USERS_COLLECTION=users
TABGRAPHSYN_MONGO_RUNS_COLLECTION=runs

# Pipeline Configuration
# -----------------------------------------------------------------------------
# Path to the Python executable for running the ML pipeline
# This should point to your conda/virtual environment with ML dependencies
# Windows example: C:\ProgramData\miniconda3\envs\tabgraphsyn\python.exe
# Linux example: /home/user/miniconda3/envs/tabgraphsyn/bin/python
TABGRAPHSYN_PIPELINE_PYTHON=C:\ProgramData\miniconda3\envs\tabgraphsyn\python.exe

# Pipeline concurrency (protect GPU/CPU)
PIPELINE_MAX_CONCURRENT=1

# Rate limiting (per user/IP)
RATE_LIMIT_LOGIN=8
RATE_LIMIT_LOGIN_WINDOW=900
RATE_LIMIT_REGISTER=6
RATE_LIMIT_REGISTER_WINDOW=900
RATE_LIMIT_STAGE_UPLOAD=6
RATE_LIMIT_STAGE_UPLOAD_WINDOW=3600
RATE_LIMIT_START_RUN=3
RATE_LIMIT_START_RUN_WINDOW=3600

# Email verification
# -----------------------------------------------------------------------------
SITE_NAME=TabGraphSyn
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=TabGraphSyn <no-reply@example.com>
EMAIL_VERIFICATION_ENABLED=True
EMAIL_VERIFICATION_REQUIRED=True
EMAIL_VERIFICATION_TOKEN_TTL_HOURS=24

# Google OAuth
# -----------------------------------------------------------------------------
GOOGLE_OAUTH_ENABLED=False
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_REDIRECT_URI=
GOOGLE_OAUTH_ALLOWED_DOMAINS=
GOOGLE_OAUTH_STATE_TTL_SECONDS=600

# Database (Optional - if using PostgreSQL instead of SQLite)
# -----------------------------------------------------------------------------
# Uncomment these if you want to use PostgreSQL for Django's database
# DATABASE_ENGINE=django.db.backends.postgresql
# DATABASE_NAME=tabgraphsyn
# DATABASE_USER=postgres
# DATABASE_PASSWORD=postgres
# DATABASE_HOST=db
# DATABASE_PORT=5432

# Celery Configuration (for future production setup)
# -----------------------------------------------------------------------------
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0
